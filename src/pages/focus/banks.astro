---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout title="Community Banks | Cutler Capital Management">
  <main id="main">
    <section class="page-hero">
      <div class="container">
        <p class="eyebrow">Investment Focus</p>
        <h1>Community banks</h1>
        <p class="lead">
          We study banks through cycles with a repeatable underwriting process—emphasizing asset quality, balance-sheet resilience,
          and valuation discipline.
        </p>

        <div class="cta-row">
          <a class="btn btn-primary" href="/contact/">Request materials</a>
          <a class="btn btn-ghost" href="/strategies/">Back to strategies</a>
        </div>
      </div>
    </section>

    <section class="section section-surface">
      <div class="container">
        <div class="module">
          <div class="module-head">
            <div>
              <p class="eyebrow">Framework</p>
              <h2 class="module-title">A lifecycle view of underwriting through cycles</h2>
              <p class="muted module-sub">
                A simplified model of how bank fundamentals typically evolve—and where disciplined underwriting matters most.
              </p>
            </div>
          </div>

          <div class="module-grid module-grid--single">
            <div class="chart-placeholder chart-surface" role="img" aria-label="Animated community bank lifecycle diagram">
              <div class="chart-placeholder__inner chart-inner">
                <!-- Illustration only -->

                <div class="lifecycle">
                  <div class="lifecycle-ring">
                    <span class="lifecycle-dot"></span>
                    <span class="lifecycle-dot"></span>
                    <span class="lifecycle-dot"></span>
                    <span class="lifecycle-dot"></span>
                  </div>

                  <div class="lifecycle-steps">
                    <div class="lstep">
                      <div class="lstep-kicker">1</div>
                      <div>
                        <div class="lstep-title">Build</div>
                        <div class="lstep-sub muted">Credit discipline, deposit growth</div>
                      </div>
                    </div>
                    <div class="lstep">
                      <div class="lstep-kicker">2</div>
                      <div>
                        <div class="lstep-title">Expand</div>
                        <div class="lstep-sub muted">Footprint, underwriting standards</div>
                      </div>
                    </div>
                    <div class="lstep">
                      <div class="lstep-kicker">3</div>
                      <div>
                        <div class="lstep-title">Stress</div>
                        <div class="lstep-sub muted">Asset quality reveals itself</div>
                      </div>
                    </div>
                    <div class="lstep">
                      <div class="lstep-kicker">4</div>
                      <div>
                        <div class="lstep-title">Reset</div>
                        <div class="lstep-sub muted">Repricing, cleanup, opportunity</div>
                      </div>
                    </div>
                  </div>

                  <div class="lifecycle-caption muted small">
                    Illustrative only. Used to communicate process and decision framework.
                  </div>
                </div>
              </div>
            </div>

            <!-- Side narrative removed to maximize illustration space -->
          </div>
        </div>

        <div class="module" style="margin-top: 1.25rem;">
          <div class="module-head">
            <div>
              <p class="eyebrow">Backdrop</p>
              <h2 class="module-title">Whole bank M&A transactions (since 1990)</h2>
              <p class="muted module-sub">
                A simple consolidation view. (Demo values for now; swap to your official series later.)
              </p>
            </div>
          </div>

          <div class="module-grid module-grid--single">
            <div class="chart-placeholder chart-surface" role="img" aria-label="Animated bar chart of whole bank M&A transactions since 1990">
              <div class="chart-placeholder__inner chart-inner">
                <!-- Header removed to maximize chart area for demo -->

                <div class="bars" style="--max: 566;">
                  <div class="bar" style="--v:218;"><span class="bar-year">1990</span><span class="bar-val">218</span></div>
                  <div class="bar" style="--v:305;"><span class="bar-year">1991</span><span class="bar-val">305</span></div>
                  <div class="bar" style="--v:399;"><span class="bar-year">1992</span><span class="bar-val">399</span></div>
                  <div class="bar" style="--v:481;"><span class="bar-year">1993</span><span class="bar-val">481</span></div>
                  <div class="bar" style="--v:566;"><span class="bar-year">1994</span><span class="bar-val">566</span></div>
                  <div class="bar" style="--v:463;"><span class="bar-year">1995</span><span class="bar-val">463</span></div>
                  <div class="bar" style="--v:458;"><span class="bar-year">1996</span><span class="bar-val">458</span></div>
                  <div class="bar" style="--v:466;"><span class="bar-year">1997</span><span class="bar-val">466</span></div>
                  <div class="bar" style="--v:504;"><span class="bar-year">1998</span><span class="bar-val">504</span></div>
                  <div class="bar" style="--v:358;"><span class="bar-year">1999</span><span class="bar-val">358</span></div>

                  <div class="bar" style="--v:280;"><span class="bar-year">2000</span><span class="bar-val">280</span></div>
                  <div class="bar" style="--v:263;"><span class="bar-year">2001</span><span class="bar-val">263</span></div>
                  <div class="bar" style="--v:232;"><span class="bar-year">2002</span><span class="bar-val">232</span></div>
                  <div class="bar" style="--v:271;"><span class="bar-year">2003</span><span class="bar-val">271</span></div>
                  <div class="bar" style="--v:283;"><span class="bar-year">2004</span><span class="bar-val">283</span></div>
                  <div class="bar" style="--v:279;"><span class="bar-year">2005</span><span class="bar-val">279</span></div>
                  <div class="bar" style="--v:309;"><span class="bar-year">2006</span><span class="bar-val">309</span></div>
                  <div class="bar" style="--v:310;"><span class="bar-year">2007</span><span class="bar-val">310</span></div>
                  <div class="bar" style="--v:189;"><span class="bar-year">2008</span><span class="bar-val">189</span></div>
                  <div class="bar" style="--v:167;"><span class="bar-year">2009</span><span class="bar-val">167</span></div>

                  <div class="bar" style="--v:232;"><span class="bar-year">2010</span><span class="bar-val">232</span></div>
                  <div class="bar" style="--v:185;"><span class="bar-year">2011</span><span class="bar-val">185</span></div>
                  <div class="bar" style="--v:247;"><span class="bar-year">2012</span><span class="bar-val">247</span></div>
                  <div class="bar" style="--v:251;"><span class="bar-year">2013</span><span class="bar-val">251</span></div>
                  <div class="bar" style="--v:304;"><span class="bar-year">2014</span><span class="bar-val">304</span></div>
                  <div class="bar" style="--v:293;"><span class="bar-year">2015</span><span class="bar-val">293</span></div>
                  <div class="bar" style="--v:252;"><span class="bar-year">2016</span><span class="bar-val">252</span></div>
                  <div class="bar" style="--v:268;"><span class="bar-year">2017</span><span class="bar-val">268</span></div>
                  <div class="bar" style="--v:265;"><span class="bar-year">2018</span><span class="bar-val">265</span></div>
                  <div class="bar" style="--v:272;"><span class="bar-year">2019</span><span class="bar-val">272</span></div>

                  <div class="bar" style="--v:118;"><span class="bar-year">2020</span><span class="bar-val">118</span></div>
                  <div class="bar" style="--v:216;"><span class="bar-year">2021</span><span class="bar-val">216</span></div>
                  <div class="bar" style="--v:171;"><span class="bar-year">2022</span><span class="bar-val">171</span></div>
                  <div class="bar" style="--v:8;"><span class="bar-year">2023</span><span class="bar-val">8</span></div>
                </div>

                <!-- (Caption removed to maximize chart area for demo) -->
              </div>
            </div>

            <!-- Side copy removed to give the chart full width (demo layout). -->
          </div>
        </div>

        <div class="callout" style="margin-top: 1.25rem;">
          <div class="callout-inner">
            <div>
              <h3 class="callout-title">Want the full community bank packet?</h3>
              <p class="muted">We can share process notes, example screens, and a current view of positioning in conversation.</p>
            </div>
            <a class="btn btn-ghost" href="/contact/">Request information</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <style>
    /* Let the illustrations breathe and use the available width */
    .chart-surface .chart-placeholder__inner.chart-inner {
      padding: 1.1rem;
      width: 100%;
      max-width: none;
      margin: 0;
    }
    .chart-surface { background: rgba(255,255,255,0.6); }

    /* Force single-column modules to truly be single column */
    .module-grid--single { grid-template-columns: 1fr !important; }

    .lifecycle {
      display: grid;
      grid-template-columns: minmax(320px, 420px) 1fr;
      gap: 2.25rem;
      align-items: center;
      min-height: 360px;
    }
    .lifecycle-ring { position: relative; width: 260px; height: 260px; border-radius: 999px; border: 1px solid rgba(0,0,0,0.14);
      background: radial-gradient(circle at 30% 25%, rgba(255,255,255,0.55), transparent 55%),
                  linear-gradient(135deg, rgba(124,25,45,0.14), rgba(124,25,45,0.04));
      overflow: hidden; }
    .lifecycle-ring::before { content: ""; position: absolute; inset: -50%;
      background: conic-gradient(from 0deg, rgba(124,25,45,0.0), rgba(124,25,45,0.35), rgba(124,25,45,0.0));
      animation: spin 6s linear infinite; }
    .lifecycle-ring::after { content: ""; position: absolute; inset: 14px; border-radius: 999px; background: rgba(255,255,255,0.55); border: 1px solid rgba(0,0,0,0.10); }
    .lifecycle-dot { position: absolute; width: 12px; height: 12px; border-radius: 999px; background: #7c192d; box-shadow: 0 10px 25px rgba(0,0,0,0.18); z-index: 2; animation: dotPulse 2.4s ease-in-out infinite; }
    .lifecycle-dot:nth-child(1){ top:12px; left:50%; transform:translateX(-50%); }
    .lifecycle-dot:nth-child(2){ right:12px; top:50%; transform:translateY(-50%); animation-delay:.3s; animation-name: dotPulseY; }
    .lifecycle-dot:nth-child(3){ bottom:12px; left:50%; transform:translateX(-50%); animation-delay:.6s; }
    .lifecycle-dot:nth-child(4){ left:12px; top:50%; transform:translateY(-50%); animation-delay:.9s; animation-name: dotPulseY; }

    .lifecycle-steps {
      display: grid;
      gap: 0.85rem;
      justify-self: end;
      width: min(520px, 100%);
    }
    .lstep { display: grid; grid-template-columns: 34px 1fr; gap: 0.75rem; align-items: start; padding: 0.75rem 0.85rem; border-radius: 14px; border: 1px solid rgba(0,0,0,0.10); background: rgba(255,255,255,0.55); }
    .lstep-kicker { width:34px; height:34px; border-radius:999px; display:grid; place-items:center; font-weight:700; color:#fff; background:#7c192d; box-shadow:0 10px 25px rgba(0,0,0,0.16); }
    .lstep-title { font-weight:700; line-height:1.2; }
    .lstep-sub { font-size:0.95rem; margin-top:0.15rem; }
    .lifecycle-caption { margin-top: 0.35rem; }

    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes dotPulse { 0%,100%{ transform:translateX(-50%) scale(1); opacity:.9; } 50%{ transform:translateX(-50%) scale(1.25); opacity:1; } }
    @keyframes dotPulseY { 0%,100%{ transform:translateY(-50%) scale(1); opacity:.9; } 50%{ transform:translateY(-50%) scale(1.25); opacity:1; } }

    .bars { display:flex; gap: 12px; align-items:end; height: 440px;
      padding: 0.85rem 0.85rem 0.65rem; border-radius:14px; border:1px solid rgba(0,0,0,0.10); background:rgba(255,255,255,0.45);
      overflow-x:auto; overflow-y:hidden; overscroll-behavior-x:contain; scroll-snap-type:x proximity; }
    .bar { position:relative; width:22px; min-width:22px; border-radius:10px 10px 6px 6px;
      background: linear-gradient(180deg, rgba(124,25,45,0.92), rgba(124,25,45,0.55));
      height: calc((var(--v) / var(--max)) * 100%);
      animation: grow 900ms ease-out both; transform-origin: bottom; scroll-snap-align:end; }
    .bar::after { content:""; position:absolute; inset:1px 1px auto 1px; height:55%; border-radius:9px 9px 6px 6px; background: rgba(255,255,255,0.10); }
    /* Remove dense labels for the demo and let the bars dominate */
    .bar-year, .bar-val { display: none; }
    @keyframes grow { from { transform: scaleY(0.05); opacity: 0.35; } to { transform: scaleY(1); opacity: 1; } }
    .bars-foot { margin-top: 0.75rem; }

    @media (max-width: 880px) { .lifecycle { grid-template-columns: 1fr; } .lifecycle-ring { margin: 0 auto; } }
    @media (max-width: 620px) { .bar { width: 14px; min-width: 14px; } .bars { gap: 8px; height: 230px; } }
  </style>
</BaseLayout>
